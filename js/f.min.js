const div="div",p="p",img="img",empty="",cardClassName="p-card",rowClassName="row",cardImageClassName="p-card-img",colTitleClassName="block",cardTitleClassName="p-card-body",onclickAttr="onclick",insertPosition="beforeend",emptyArray=0,firstEraId=1,firstEraArrayIndex=0,secondEraId=2,secondEraArrayIndex=1,thirdEraId=3,thirdEraArrayIndex=2,firstElementArrayIndex=0,firstEraName="first-era",secondEraName="second-era",thirdEraName="third-era",pickedIdName="picked",firstEraCardClassName="p-card first-era",secondEraCardClassName="p-card second-era",thirdEraCardClassName="p-card third-era",addProfessionFuncName="addProfession(this)",deleteProfessionFuncName="deleteProfession(this)",clearAllFuncName="clearAll()",baseUrl="./src/icons/";let user=[],availableProfessions=[];function addProfession(e){let r=availableProfessions.find((r=>r.id.toString()===e.id));user.push(r),redrawUserPickedBlock(),refreshAvailableProfessions(r,!0),redrawAvailableBlock()}function deleteProfession(e){let r=user.find((r=>r.id.toString()===e.id));user=user.filter((e=>e.id!==r.id)),redrawUserPickedBlock(),refreshAvailableProfessions(r,!1),redrawAvailableBlock()}function initializeApplication(){availableProfessions=data,redrawAvailableBlock()}function redrawUserPickedBlock(){let e=sortProfessionsByEra(user),r=!1;e.forEach((function(e){r?refreshProfessionsBlock(e,"picked",!1,!1):(refreshProfessionsBlock(e,"picked",!0,!1),r=!0)}))}function redrawAvailableBlock(){let e=sortProfessionsByEra(availableProfessions);clearAvailableBlockData(e),e.forEach((function(e){if(0===e.length)return;let r=e[0]?.era;refreshProfessionsBlock(e,getEraClassNameForCard(r,!1))}))}function clearAvailableBlockData(e){0===e[0].length&&getTargetDOMElement("first-era",!0),0===e[1].length&&getTargetDOMElement("second-era",!0),0===e[2].length&&getTargetDOMElement("third-era",!0)}function sortProfessionsByEra(e){let r=e.filter((e=>1===e?.era)).sort((e=>e.id)),a=e.filter((e=>2===e?.era)).sort((e=>e.id)),t=e.filter((e=>3===e?.era)).sort((e=>e.id));return[r,a,t]}function refreshProfessionsBlock(e,r,a=!0,t=!0){if(null==r)return;let s=getTargetDOMElement(r,a);0!==e.length&&e.forEach((function(e){let r=createCard(e,t);s.insertAdjacentElement("beforeend",r)}))}function getTargetDOMElement(e,r){let a=document.getElementById(e);return r&&(a.innerHTML=""),a}function createCard(e,r){let a=document.createElement(div),t=document.createElement(div),s=document.createElement(div),n=document.createElement(img),i=document.createElement(div),o=document.createElement(div),l=document.createElement(p);return l.innerText=e.title,o.className="p-card-body",o.insertAdjacentElement("beforeend",l),i.className="block",i.insertAdjacentElement("beforeend",o),n.src=createImagePath(e.iconName),n.alt=e.title,s.className="p-card-img",s.insertAdjacentElement("beforeend",n),t.className="row",t.insertAdjacentElement("beforeend",s),t.insertAdjacentElement("beforeend",i),a.className=getEraClassNameForCard(e.era),a.setAttribute("onclick",r?"addProfession(this)":"deleteProfession(this)"),a.id=e.id,a.insertAdjacentElement("beforeend",t),a}function getEraClassNameForCard(e,r=!0){switch(e){case 1:return r?"p-card first-era":"first-era";case 2:return r?"p-card second-era":"second-era";case 3:return r?"p-card third-era":"third-era";case null:return""}}function createImagePath(e){return baseUrl+e}function refreshAvailableProfessions(e,r){0!==user.length?r?e.exclusion.forEach((function(e){availableProfessions=availableProfessions.filter((r=>r.id!==e))})):e.exclusion.forEach((function(e){let r=data.find((r=>r.id===e));availableProfessions.push(r)})):availableProfessions=data}